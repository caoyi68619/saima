import"./vendor.9f72332b.js";import{D as e}from"./DialogAddSwiper.692804c1.js";import{_ as a,g as t,r as l,o as r,D as o,h as s,i as n,E as i,a as c,j as d,k as u,b as p,d as g,f as m,w as f,F as h,l as w,u as b,p as _,m as y,n as S,t as j,q as v}from"./index.6a7a1d98.js";/* empty css                     */const k={class:"header"},x=["src"],D=["href"];var P=a({__name:"smjlrsj",setup(a){const P=t(),z=l({loading:!1,tableData:[],currentPage:1,pageSize:10,type:"add",multipleSelection:[],total:0});r((()=>{C()}));const C=()=>{z.loading=!0,o.get("/carousels",{params:{pageNumber:z.currentPage,pageSize:z.pageSize}}).then((e=>{z.tableData=e.list,z.total=e.totalCount,z.currentPage=e.currPage,z.loading=!1}))},T=()=>{console.log("addSwiper",P.value),z.type="add",P.value.open()},U=e=>{z.multipleSelection=e},B=()=>{z.multipleSelection.length?o.delete("/carousels",{data:{ids:z.multipleSelection.map((e=>e.carouselId))}}).then((()=>{v.success("删除成功"),C()})):v.error("请选择项")},q=e=>{z.currentPage=e,C()};return(a,t)=>{const l=s,r=n,o=i,v=c,A=d,E=u;return p(),g(h,null,[m(E,{class:"swiper-container"},{header:f((()=>[w("div",k,[m(l,{type:"primary",icon:b(_),onClick:T},{default:f((()=>t[0]||(t[0]=[y("增加")]))),_:1},8,["icon"]),m(r,{title:"确定删除吗？",confirmButtonText:"确定",cancelButtonText:"取消",onConfirm:B},{reference:f((()=>[m(l,{type:"danger",icon:b(S)},{default:f((()=>t[1]||(t[1]=[y("批量删除")]))),_:1},8,["icon"])])),_:1})])])),default:f((()=>[m(v,{load:z.loading,ref:"multipleTable",data:z.tableData,"tooltip-effect":"dark",style:{width:"100%"},onSelectionChange:U},{default:f((()=>[m(o,{type:"selection",width:"55"}),m(o,{label:"轮播图",width:"200"},{default:f((e=>[w("img",{style:{width:"150px",height:"150px"},src:e.row.carouselUrl,alt:"轮播图"},null,8,x)])),_:1}),m(o,{label:"跳转链接"},{default:f((e=>[w("a",{target:"_blank",href:e.row.redirectUrl},j(e.row.redirectUrl),9,D)])),_:1}),m(o,{prop:"carouselRank",label:"排序值",width:"120"}),m(o,{prop:"createTime",label:"添加时间",width:"200"})])),_:1},8,["load","data"]),m(A,{background:"",layout:"prev, pager, next",total:z.total,"page-size":z.pageSize,"current-page":z.currentPage,onCurrentChange:q},null,8,["total","page-size","current-page"])])),_:1}),m(e,{ref_key:"addSwiper",ref:P,reload:C,type:z.type},null,8,["type"])],64)}}},[["__file","D:/trail/js代码/vueProject/vue3-admin-main/src/views/smjlrsj.vue"]]);export{P as default};
