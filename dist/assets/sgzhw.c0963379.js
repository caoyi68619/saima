import"./vendor.9f72332b.js";import{D as e}from"./DialogAddSwiper.692804c1.js";import{_ as a,g as t,r as l,o as r,D as o,h as s,i as n,E as i,a as c,j as d,k as u,b as p,d as g,f as m,w as f,F as h,l as w,u as b,p as _,m as y,n as S,t as v,q as z}from"./index.6a7a1d98.js";/* empty css                     */const j={class:"header"},k=["src"],x=["href"];var D=a({__name:"sgzhw",setup(a){const D=t(),P=l({loading:!1,tableData:[],currentPage:1,pageSize:10,type:"add",multipleSelection:[],total:0});r((()=>{C()}));const C=()=>{P.loading=!0,o.get("/carousels",{params:{pageNumber:P.currentPage,pageSize:P.pageSize}}).then((e=>{P.tableData=e.list,P.total=e.totalCount,P.currentPage=e.currPage,P.loading=!1}))},T=()=>{console.log("addSwiper",D.value),P.type="add",D.value.open()},U=e=>{P.multipleSelection=e},B=()=>{P.multipleSelection.length?o.delete("/carousels",{data:{ids:P.multipleSelection.map((e=>e.carouselId))}}).then((()=>{z.success("删除成功"),C()})):z.error("请选择项")},q=e=>{P.currentPage=e,C()};return(a,t)=>{const l=s,r=n,o=i,z=c,A=d,E=u;return p(),g(h,null,[m(E,{class:"swiper-container"},{header:f((()=>[w("div",j,[m(l,{type:"primary",icon:b(_),onClick:T},{default:f((()=>t[0]||(t[0]=[y("增加")]))),_:1},8,["icon"]),m(r,{title:"确定删除吗？",confirmButtonText:"确定",cancelButtonText:"取消",onConfirm:B},{reference:f((()=>[m(l,{type:"danger",icon:b(S)},{default:f((()=>t[1]||(t[1]=[y("批量删除")]))),_:1},8,["icon"])])),_:1})])])),default:f((()=>[m(z,{load:P.loading,ref:"multipleTable",data:P.tableData,"tooltip-effect":"dark",style:{width:"100%"},onSelectionChange:U},{default:f((()=>[m(o,{type:"selection",width:"55"}),m(o,{label:"轮播图",width:"200"},{default:f((e=>[w("img",{style:{width:"150px",height:"150px"},src:e.row.carouselUrl,alt:"轮播图"},null,8,k)])),_:1}),m(o,{label:"跳转链接"},{default:f((e=>[w("a",{target:"_blank",href:e.row.redirectUrl},v(e.row.redirectUrl),9,x)])),_:1}),m(o,{prop:"carouselRank",label:"排序值",width:"120"}),m(o,{prop:"createTime",label:"添加时间",width:"200"})])),_:1},8,["load","data"]),m(A,{background:"",layout:"prev, pager, next",total:P.total,"page-size":P.pageSize,"current-page":P.currentPage,onCurrentChange:q},null,8,["total","page-size","current-page"])])),_:1}),m(e,{ref_key:"addSwiper",ref:D,reload:C,type:P.type},null,8,["type"])],64)}}},[["__file","D:/trail/js代码/vueProject/vue3-admin-main/src/views/sgzhw.vue"]]);export{D as default};
